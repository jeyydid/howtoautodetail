<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Detailing Break-Even Calculator • Tool Suite</title>
  <meta name="description" content="Work out break-even price per job, jobs per month, profit and effective hourly rate for your detailing business." />
  <link rel="stylesheet" href="../../assets/styles.css" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <div class="wrap header-inner">
      <a href="https://jeyydid.github.io/howtoautodetail/" class="brand" aria-label="HowToAutoDetail homepage">
        <div class="brand-mark" aria-hidden="true">H</div>
        <div class="brand-text">
          <div class="brand-title">HowToAutoDetail</div>
          <div class="brand-subtitle">Tool Suite</div>
        </div>
      </a>

      <nav class="top-nav" aria-label="Primary">
        <a class="nav-link" href="index.html" aria-current="page">Home</a>
        <a class="nav-link" href="https://howtoautodetail.com/" rel="noopener noreferrer">HTAD Wiki</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Tool card -->
    <section class="tool-card">
      <div class="tool-card__header">
        <h1>Detailing Business Break-Even Calculator</h1>
        <p class="muted">
          Price smarter by modelling <strong>fixed monthly overheads</strong>, <strong>per-job costs</strong>, and <strong>time</strong>.
          Runs entirely in your browser.
        </p>
      </div>

      <!-- Tool layout: Inputs + Results (consistent with a suite theme) -->
      <div class="tool-grid">
        <!-- Inputs -->
        <form class="tool-form" id="be-form" autocomplete="off">
          <div class="tool-form__section">
            <h2 class="tool-card__subhead">Inputs</h2>
            <p class="muted">
              Fill in realistic averages. If you do multiple service types, treat this as your “typical job” baseline.
            </p>

            <div class="form-grid">
              <div class="input-group">
                <label for="currency">Currency symbol</label>
                <input id="currency" type="text" value="£" maxlength="3" inputmode="text" />
                <small class="help">Display only (e.g. £, $, €).</small>
              </div>

              <div class="input-group">
                <label for="fixed">Monthly fixed costs</label>
                <input id="fixed" type="number" min="0" step="0.01" value="300" inputmode="decimal" />
                <small class="help">Insurance, rent, phone, finance, etc.</small>
              </div>

              <div class="input-group">
                <label for="variable">Variable cost per job</label>
                <input id="variable" type="number" min="0" step="0.01" value="12" inputmode="decimal" />
                <small class="help">Chemicals, disposables, fuel per job, wear &amp; tear estimate.</small>
              </div>

              <div class="input-group">
                <label for="hoursPerJob">Hours per job</label>
                <input id="hoursPerJob" type="number" min="0" step="0.1" value="2.5" inputmode="decimal" />
                <small class="help">Average labour time per job.</small>
              </div>

              <div class="input-group">
                <label for="jobsPerMonth">Jobs per month</label>
                <input id="jobsPerMonth" type="number" min="0" step="1" value="20" inputmode="numeric" />
                <small class="help">How many jobs you expect to complete this month.</small>
              </div>

              <div class="input-group">
                <label for="targetProfit">Target profit per month</label>
                <input id="targetProfit" type="number" min="0" step="0.01" value="0" inputmode="decimal" />
                <small class="help">Optional. Added on top of covering costs.</small>
              </div>

              <div class="input-group">
                <label for="targetHourly">Target hourly pay</label>
                <input id="targetHourly" type="number" min="0" step="0.01" value="0" inputmode="decimal" />
                <small class="help">Optional. Treated like wages you want to pay yourself.</small>
              </div>

              <div class="input-group">
                <label for="priceWhatIf">What if I charge (per job)</label>
                <input id="priceWhatIf" type="number" min="0" step="0.01" value="60" inputmode="decimal" />
                <small class="help">Used for profit + “break-even jobs” modelling.</small>
              </div>
            </div>

            <div class="form-actions">
              <button type="button" class="btn" id="calc-btn">Calculate</button>
              <button type="reset" class="btn btn--ghost" id="reset-btn">Reset</button>
            </div>
          </div>

          <details class="tool-notes">
            <summary>Notes (what's included)</summary>
            <ul>
              <li><strong>Fixed costs</strong> happen regardless of jobs (insurance, rent, subscriptions).</li>
              <li><strong>Variable costs</strong> scale per job (chemicals, disposables, fuel estimate).</li>
              <li><strong>Target hourly pay</strong> is converted to a monthly wage using <em>jobs x hours/job</em>.</li>
              <li><strong>Required revenue</strong> = fixed + variable + target profit + wage (if set).</li>
            </ul>
          </details>
        </form>

        <!-- Results -->
        <aside class="tool-results" aria-live="polite">
          <h2 class="tool-card__subhead">Results</h2>

          <div class="results-stack">
            <div class="result">
              <div class="result__label">Required monthly revenue</div>
              <div class="result__value" id="reqRevenue">—</div>
              <div class="result__hint muted" id="reqRevenueHint">—</div>
            </div>

            <div class="result">
              <div class="result__label">Break-even price per job</div>
              <div class="result__value" id="bePrice">—</div>
              <div class="result__hint muted">Based on your planned jobs/month.</div>
            </div>

            <div class="result">
              <div class="result__label">Break-even jobs per month</div>
              <div class="result__value" id="beJobs">—</div>
              <div class="result__hint muted">Based on your “What if I charge…” price.</div>
            </div>

            <hr class="divider" />

            <div class="result">
              <div class="result__label">Profit at your chosen price</div>
              <div class="result__value" id="profitAtPrice">—</div>
              <div class="result__hint muted" id="profitHint">—</div>
            </div>

            <div class="result">
              <div class="result__label">Effective hourly (after variable costs)</div>
              <div class="result__value" id="effectiveHourly">—</div>
              <div class="result__hint muted">
                Based on (price - variable) ÷ hours. Fixed costs are handled in monthly profit above.
              </div>
            </div>
          </div>

          <div class="callout muted" style="margin-top: 14px;">
            <strong>Quick read:</strong> If “Break-even price per job” feels spicy, either increase volume,
            reduce per-job cost, or simplify the service offering.
          </div>
        </aside>
      </div>
    </section>
  </main>

  <!-- Footer (match dilution/home theme) -->
  <footer class="site-footer">
    <div class="container">
      <p class="muted">© <span id="year"></span> Tool Suite • Built for GitHub Pages</p>
    </div>
  </footer>

  <script>
    const $ = (id) => document.getElementById(id);

    function n(v) {
      const x = Number(v);
      return Number.isFinite(x) ? x : 0;
    }

    function fmtMoney(sym, value) {
      const sign = value < 0 ? "-" : "";
      const abs = Math.abs(value);
      return `${sign}${sym}${abs.toFixed(2)}`;
    }

    function fmtNum(value) {
      if (!Number.isFinite(value)) return "—";
      return value.toFixed(2);
    }

    function calculate() {
      const sym = ($("currency").value || "£").trim();

      const fixed        = n($("fixed").value);
      const variable     = n($("variable").value);
      const hoursPerJob  = n($("hoursPerJob").value);
      const jobsPerMonth = n($("jobsPerMonth").value);
      const targetProfit = n($("targetProfit").value);
      const targetHourly = n($("targetHourly").value);
      const priceWhatIf  = n($("priceWhatIf").value);

      const totalHoursMonth = jobsPerMonth * hoursPerJob;
      const wageMonth = targetHourly > 0 ? (targetHourly * totalHoursMonth) : 0;

      const requiredRevenue =
        fixed +
        (variable * jobsPerMonth) +
        targetProfit +
        wageMonth;

      const bePrice = jobsPerMonth > 0 ? (requiredRevenue / jobsPerMonth) : NaN;

      // Break-even jobs per month at chosen price:
      // (price - variable - wagePerJob) * jobs >= fixed + targetProfit
      const wagePerJob = targetHourly > 0 ? (targetHourly * hoursPerJob) : 0;
      const contributionPerJob = priceWhatIf - variable - wagePerJob;

      let beJobs = NaN;
      if (contributionPerJob > 0) {
        beJobs = (fixed + targetProfit) / contributionPerJob;
      }

      const revenueAtPrice = priceWhatIf * jobsPerMonth;
      const costAtPrice = fixed + (variable * jobsPerMonth) + wageMonth;
      const profitAtPrice = revenueAtPrice - costAtPrice;

      const marginPerJobBeforeFixed = priceWhatIf - variable;
      const effectiveHourly = hoursPerJob > 0 ? (marginPerJobBeforeFixed / hoursPerJob) : NaN;

      // Render
      $("reqRevenue").textContent = fmtMoney(sym, requiredRevenue);
      $("reqRevenueHint").textContent =
        targetHourly > 0
          ? `Includes wages of ${fmtMoney(sym, wageMonth)} (${fmtMoney(sym, targetHourly)}/hr × ${fmtNum(totalHoursMonth)} hrs).`
          : "Covers fixed + variable costs + target profit (if set).";

      $("bePrice").textContent = Number.isFinite(bePrice) ? fmtMoney(sym, bePrice) : "—";

      if (contributionPerJob > 0) {
        $("beJobs").textContent = `${Math.ceil(beJobs)} jobs/month (≈ ${fmtNum(beJobs)} exact)`;
      } else {
        $("beJobs").textContent = "Not possible (price too low vs costs/wage)";
      }

      $("profitAtPrice").textContent = fmtMoney(sym, profitAtPrice);
      $("profitHint").textContent =
        profitAtPrice >= 0
          ? `After fixed + variable${targetHourly > 0 ? " + your wage target" : ""}, at ${jobsPerMonth} jobs/month.`
          : `Loss at ${jobsPerMonth} jobs/month. Increase price, reduce costs, or increase volume.`;

      $("effectiveHourly").textContent =
        Number.isFinite(effectiveHourly) ? `${fmtMoney(sym, effectiveHourly)}/hr` : "—";
    }

    $("calc-btn").addEventListener("click", calculate);
    $("be-form").addEventListener("input", calculate);
    $("reset-btn").addEventListener("click", () => setTimeout(calculate, 0));

    $("year").textContent = new Date().getFullYear();
    calculate();
  </script>
</body>
</html>
